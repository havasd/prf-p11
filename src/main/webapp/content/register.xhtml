<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
    template="/templates/logged-out-default.xhtml">
    
    <f:metadata>
        <f:viewAction action="#{registrationController.init()}" />
    </f:metadata>
    
    <ui:define name="contentFull">

        <h:form>
			<table class="user-edit-table">
			    <tr>
                    <td colspan="2" class="td-center">
                        <span class="subtitle">Regisztráció</span>
                    </td>
                </tr>
			    <h:panelGroup rendered="#{param['a'] == 'error'}">
			        <tr>
			            <td colspan="2" class="td-error">
			                <ul>
			                    <h:panelGroup rendered="#{param['err_mail'] == '1'}">
			                        <li>Nem jó email</li>
			                    </h:panelGroup>
			                    <h:panelGroup rendered="#{param['err_exist'] == '1'}">
                                    <li>Ez az email már foglalt</li>
                                </h:panelGroup>
                                <h:panelGroup rendered="#{param['err_pass'] == '1'}">
                                    <li>A jelszó minimum 6 karakter</li>
                                </h:panelGroup>
                                <h:panelGroup rendered="#{param['err_name'] == '1'}">
                                    <li>Túl rövid név</li>
                                </h:panelGroup>
                                <h:panelGroup rendered="#{param['err_date'] == '1'}">
                                    <li>Nem jó dátum formátum</li>
                                </h:panelGroup>
			                </ul>
			            </td>
			        </tr>
			    </h:panelGroup>
			    <tr>
			        <td class="td-right user-edit-td-titles">Név:</td>
			        <td>
			            <h:inputText id="name" value="#{registrationController.user.name}" styleClass="user-edit-text" />
			        </td>
			    </tr>
			    <tr>
	                <td class="td-right user-edit-td-titles">Email:</td>
	                <td>
	                    <h:inputText id="mail" value="#{registrationController.user.email}" styleClass="user-edit-text" />
	                </td>
	            </tr>
			    <tr>
			        <td class="td-right user-edit-td-titles">Jelszó:</td>
			        <td>
			            <h:inputSecret id="password" value="#{registrationController.user.password}" styleClass="user-edit-text" />
			        </td>
			    </tr>
			    <tr>
                    <td class="td-right user-edit-td-titles">Született:</td>
                    <td>
                        <h:inputText id="birth" a:placeholder="2000-01-01" value="#{registrationController.birth}" styleClass="user-edit-text" />
                    </td>
                </tr>
			    <tr>
			        <td colspan="2" class="td-center">
			            <h:commandButton styleClass="submit-button" value="Mentés" action="#{registrationController.register()}"/>
			            <h:button styleClass="submit-button reg-button" value="Vissza" outcome="/content/login.xhtml"/>
			        </td>
			    </tr>
			</table>
		</h:form>

    </ui:define>
</ui:composition>
